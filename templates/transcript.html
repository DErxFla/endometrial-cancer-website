{% extends "base.html" %}

{% block title %}Transcript Search Results{% endblock %}

{% block content %}
<h2>Search Results for "{{ query }}"</h2>

{% if message %}
    <div class="alert alert-info" role="alert">{{ message }}</div>
{% endif %}

{% if transcript_results %}
    <div class="table-responsive mt-3">
        <table class="table table-striped table-bordered">
            <thead class="table-head-light-purple">
                <tr>
                    <th scope="col">Transcript ID</th>
                    <th scope="col">Ensembl Gene ID</th>
                    <th scope="col">Gene Symbol</th>
                    <th scope="col">Protein ID</th>
                    <th scope="col">Biotype</th>
                </tr>
            </thead>
            <tbody>
                {% for transcript in transcript_results %}
                    <tr>
                        <td>{{ transcript.transcript_id }}</td>
                        <td>
                            <a href="https://www.ensembl.org/Homo_sapiens/Transcript/Summary?db=core;t={{ transcript.transcript_id }}"
                               target="_blank" 
                               rel="noopener noreferrer">
                               {{ transcript.ensembl_gene_id }}
                            </a>
                        </td>
                        <td>{{ transcript.gene_abbr }}</td>
                        <td>{{ transcript.protein_id }}</td>
                        <td>{{ transcript.biotype }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endif %}
{% endblock %}